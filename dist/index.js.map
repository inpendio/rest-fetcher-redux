{"version":3,"file":"index.js","sources":["../src/Transformers.js","../src/Api.js","../index.js"],"sourcesContent":["import { isObject, isArray, toPlainObject, toArray } from 'lodash';\n\nexport const object = (data = {}) => {\n  if (isObject(data)) return data;\n  let _data = false;\n  if (typeof data === 'string') {\n    try {\n      _data = JSON.parse(data.trim());\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  if (_data) return _data;\n  return toPlainObject(data);\n};\nexport const array = (data = []) => {\n  if (isArray) return data;\n  return toArray(data);\n};\n\nexport const cumulativeArray = check => (data = [], oldData = []) => {\n  if (!data) return oldData;\n  if (!check) return oldData.concat(isArray(data) ? data : toArray(data));\n  const newData = [...oldData];\n  data.forEach((d) => {\n    let doesExist = false;\n    oldData.forEach((o, i) => {\n      if (d[check] === o[check]) {\n        newData[i] = d;\n        doesExist = true;\n      }\n    });\n    if (!doesExist) newData.push(d);\n  });\n  return newData;\n};\n\nexport default {\n  object,\n  array,\n  cumulativeArray,\n};\n","import { isFunction, isObject } from 'lodash';\nimport { Base } from 'rest-fetcher-base';\nimport { object as tObject } from './Transformers';\n\nexport default class RFR extends Base {\n  constructor() {\n    super();\n    this.customActions = {};\n    this.endpointCreationPool.push(this.addToCustomActionPool);\n    this.endpointCreationPool.push(this.addToReducerPool);\n    this.endpointCreationPool.push(this.addToTransformerPool);\n  }\n\n  /**\n   * @description Reducer you export to your store.\n   * This will extract name of the function ( as it containes prefix and sufix).\n   * Calls generic reducer set for given name.\n   * @param {Object} state - state\n   * @param {Object} action - action\n   * @memberof Communicator\n   */\n  reducer = (state = this.genererateInitialState(), action) => {\n    if (action.type.indexOf(this.basePrefix) === -1 && this.customActions[action.type]) {\n      return this.resolveCustomAction(state, action);\n    }\n    if (action.type.indexOf(this.basePrefix) === -1) return state;\n    let name = action.type.substring(this.basePrefix.length);\n    if (name.indexOf('_success') !== -1) {\n      name = name.replace('_success', '');\n    }\n    if (name.indexOf('_fail') !== -1) {\n      name = name.replace('_fail', '');\n    }\n    return this.reducerPool[name](state, action);\n  };\n\n  resolveCustomAction = (state, action) => {\n    const newState = Object.assign({}, state);\n    Object.keys(this.customActions[action.type]).forEach((key) => {\n      newState[key] = this.customActions[action.type][key](state[key], action);\n    });\n    return newState;\n  };\n\n  /**\n   * @description reducer for specific function name\n   * @param {String} k - name of the function\n   * @param {Object} state - state\n   * @param {Object} action - action\n   * @memberof Communicator\n   */\n  constructGenericReducer = k => (state, action) => {\n    const newState = Object.assign({}, state);\n    newState[k] = Object.assign({}, state[k]);\n    /* Object.keys(state).forEach(key => {\n      newState[key] = Object.assign({}, state[key]);\n    }); */\n    if (action.loading) {\n      if (newState.isLoading && newState.isLoading.length) {\n        newState.isLoading.push(k);\n      } else {\n        newState.isLoading = [];\n        newState.isLoading.push(k);\n      }\n    } else {\n      if (newState.isLoading && newState.isLoading.length && newState.isLoading.indexOf(k) !== -1) {\n        newState.isLoading.splice(newState.isLoading.indexOf(k), 1);\n      }\n      if (newState.isLoading && newState.isLoading.length === 0) {\n        newState.isLoading = false;\n      }\n    }\n    if (this.customActions[action.type]) {\n      Object.keys(this.customActions[action.type]).forEach((key) => {\n        newState[key] = this.customActions[action.type][key](state[key], action);\n      });\n    }\n    /* newState.isLoading = action.loading; */\n    if (action.type.indexOf('_success') !== -1) {\n      newState[k].loading = false;\n      newState[k].data = this.transformerPool[k](action.payload.data);\n      newState[k].ok = action.payload.msg.ok;\n      newState[k].redirected = action.payload.msg.redirected;\n      newState[k].status = action.payload.msg.status;\n      newState[k].type = action.payload.msg.type;\n    } else if (action.type.indexOf('_fail') !== -1) {\n      newState[k].loading = false;\n      newState[k].ok = action.payload.msg.ok;\n      newState[k].redirected = action.payload.msg.redirected;\n      newState[k].status = action.payload.msg.status;\n      newState[k].type = action.payload.msg.type;\n      newState[k].error = action.payload.error;\n    } else if (this.customActions[k] && this.customActions[k][action.type]) {\n      return this.customActions[k][action.type](state, action);\n    } else {\n      newState[k].loading = true;\n      newState[k].request = action.payload.request;\n      newState[k].params = action.payload.params;\n    }\n    return newState;\n  };\n\n  /**\n   * @description Function that creates initial state for each api call for reducer.\n   * @returns state for api reducer\n   */\n  genererateInitialState = () => {\n    const state = {};\n    state.isLoading = false;\n    Object.keys(this.reducerPool).forEach((k) => {\n      state[k] = {\n        request: '',\n        params: '{}',\n        data: this.transformerPool[k](),\n        ok: undefined,\n        redirected: undefined,\n        status: 0,\n        type: '',\n      };\n    });\n    return state;\n  };\n\n  /**\n   * @description Function that creates redux action.\n   * Adds pefix to type\n   * @param {String} name - name of the action\n   * @param {Object} request - payload item\n   * @param {Object} params - payload item\n   */\n  actionStart = (name, request, params) => ({\n    type: `${this.basePrefix}${name}`,\n    /* name, */\n    loading: true,\n    payload: {\n      request,\n      params,\n    },\n  });\n\n  /**\n   * @description Function that creates redux action.\n   * Adds sufix to type\n   * @param {String} name - name of the action\n   * @param {Object} request - payload item\n   * @param {Object} params - payload item\n   */\n  actionEnd = (name, data, msg = {}) => ({\n    type: `${this.basePrefix}${name}_success`,\n    /* name, */\n    loading: false,\n    payload: {\n      data,\n      msg,\n    },\n  });\n\n  /**\n   * @description Function that creates redux action.\n   * Adds sufix to type\n   * @param {String} name - name of the action\n   * @param {Object} request - payload item\n   * @param {Object} params - payload item\n   */\n  actionError = (name, msg = {}, error) => ({\n    type: `${this.basePrefix}${name}_fail`,\n    loading: false,\n    payload: {\n      msg,\n      error,\n    },\n  });\n\n  /**\n   * @description Function that adds a postfetch method to postfetch pool for future use\n   * @param {Object} endpoint - function will extract postfetch key from endpoint if one exists\n   * @param {String} name - a name of the endpoint\n   * @memberof Communicator\n   */\n  addToReducerPool = ({ reducer }, name) => {\n    this.reducerPool[name] = reducer || this.constructGenericReducer(name);\n  };\n\n  addToCustomActionPool = ({ changeOnAction }, name) => {\n    if (changeOnAction && isObject(changeOnAction)) {\n      Object.keys(changeOnAction).forEach((k) => {\n        if (!this.customActions[k]) this.customActions[k] = {};\n        this.customActions[k][name] = changeOnAction[k];\n      });\n    }\n  };\n\n  /**\n   * @description Function that adds a final data tranformer for future use\n   * @param {Object} endpoint - function will extract transformer key from endpoint if one exists\n   * @param {String} name - a name of the endpoint\n   * @memberof Communicator\n   */\n  addToTransformerPool = ({ transformer = tObject }, name) => {\n    if (transformer && isFunction(transformer)) {\n      this.transformerPool[name] = transformer;\n    }\n  };\n\n  getReducer = () => this.reducer;\n}\n","import { Api } from './src';\n\nexport { object, cumulativeArray, array, Api } from './src';\n\nexport default new Api();\n"],"names":["object","data","isObject","_data","JSON","parse","trim","e","console","log","toPlainObject","array","isArray","toArray","cumulativeArray","check","oldData","concat","newData","forEach","d","doesExist","o","i","push","RFR","reducer","state","genererateInitialState","action","type","indexOf","basePrefix","customActions","resolveCustomAction","name","substring","length","replace","reducerPool","newState","Object","assign","keys","key","constructGenericReducer","k","loading","isLoading","splice","transformerPool","payload","ok","msg","redirected","status","error","request","params","undefined","actionStart","actionEnd","actionError","addToReducerPool","addToCustomActionPool","changeOnAction","addToTransformerPool","transformer","tObject","isFunction","getReducer","endpointCreationPool","Base","Api"],"mappings":"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"}